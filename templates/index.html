<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImageUnity - LoRA Training Image Processor</title>
    <meta name="description" content="Process images for LoRA training with scaling and cropping tools">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <h1>ImageUnity</h1>
        <div class="status">
            {% if trash_enabled %}
            <span class="badge badge-enabled">Trash: enabled</span>
            {% else %}
            <span class="badge badge-disabled">Trash: disabled</span>
            {% endif %}
            {% if copy_mode %}
            <span class="badge badge-copy">Copy Mode</span>
            {% else %}
            <span class="badge badge-destructive">Destructive Mode</span>
            {% endif %}
        </div>
    </header>

    <main>
        <div id="empty-state" class="empty-state hidden">
            <p>No images found in directory</p>
        </div>

        <div id="image-container" class="image-container">
            <div id="crop-overlay" class="crop-overlay hidden">
                <div id="crop-region" class="crop-region"></div>
            </div>
            <img id="main-image" src="" alt="Current image">
        </div>

        <nav class="navigation">
            <button id="btn-prev" class="nav-btn" title="Previous (‚Üê)">‚óÄ Prev</button>
            <div class="image-info">
                <span id="image-name">Loading...</span>
                <span id="image-counter">(0/0)</span>
            </div>
            <button id="btn-next" class="nav-btn" title="Next (‚Üí)">Next ‚ñ∂</button>
        </nav>

        <div class="info-bar">
            <span id="dimensions">Dimensions: -- √ó --</span>
        </div>

        <section class="controls">
            <div class="control-group">
                <h3>Scale</h3>
                <div class="button-row">
                    <button class="scale-btn" data-width="512" data-height="512">512¬≤</button>
                    <button class="scale-btn" data-width="768" data-height="768">768¬≤</button>
                    <button class="scale-btn" data-width="1024" data-height="1024">1024¬≤</button>
                </div>
            </div>

            <div class="control-group">
                <h3>Crop</h3>
                <div class="button-row">
                    <button class="crop-btn" data-ratio="1:1" title="Press 1">1:1</button>
                    <button class="crop-btn" data-ratio="2:3" title="Press 2">2:3</button>
                    <button class="crop-btn" data-ratio="3:2" title="Press 3">3:2</button>
                    <button class="crop-btn" data-ratio="9:16" title="Press 4">9:16</button>
                    <button class="crop-btn" data-ratio="16:9" title="Press 5">16:9</button>
                </div>
                <button id="btn-apply-crop" class="action-btn hidden">Apply Crop</button>
                <button id="btn-cancel-crop" class="cancel-btn hidden">Cancel</button>
            </div>

            {% if trash_enabled %}
            <div class="control-group danger-zone">
                <button id="btn-trash" class="danger-btn" title="Delete">üóëÔ∏è Move to Trash</button>
            </div>
            {% endif %}
        </section>
    </main>

    <div id="toast" class="toast hidden"></div>
    <div id="loading" class="loading-overlay hidden">
        <div class="spinner"></div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="modal">
            <h3 id="modal-title">Confirm Action</h3>
            <p id="modal-message">Are you sure you want to proceed?</p>
            <div class="modal-buttons">
                <button id="modal-btn-cancel" class="cancel-btn">Cancel</button>
                <button id="modal-btn-confirm" class="danger-btn">Confirm</button>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
